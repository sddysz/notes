### 2.2物料主数据

1. 物料类型
* HAWA--贸易货物
* NLAG--非仓储物料
* FERT--成品
* VERP--包装物料
* DIEN--服务
创建物料[MM01]，物料类型必选，会决定物料编码范围

2. 物料主视图：
* Accounting 1,2:估值和成本信息。如标准价格、历史价格、未来价格、移动评价价。
* MRP 1,2,3,4：物料需求计划（MRP）、基于消费的计划、库存控制（inventory control）、可用性检查等信息。如安全库存水平、计划交货时间等。
* Purchasing：采购物料时提供的数据。如采购组、过量交货容差、不足交货容差
* General Plant Data Storage 1,2:与物料的存储/仓库相关的信息。如发货单位、批次管理、仓储条件等。
* Sales Org Data 1，2 and sales-general/plant data：与销售订单和定价相关的信息。如交货工厂、税收、定价参考物料、<b>项目类别组</b>等，还有可用性检查标志。

3. 物料主数据计量单位
物料可以以不同的计量单位来存储、运输和销售。
* 基础计量单位--作为所有事务的基础的计量单位。其他计量单位如果发生任务数量变化，都会自动转换为基础计量单位。
* 替代计量单位--可以以不同于基础计量单位的销售单位进行销售管理。必须定义转换因子。
* 销售单位--物料销售时的计量单位。
* 交货单位--物料交货时的单位。交货只能是交货单位的整数倍。

4. 数量指标
* 最少订货量--客户必须订购的最少量
* 最少交货量--必须交付给客户的最少数量。

5. 客户-物料信息记录
客户购买某种特定的物料时，用于该特定客户的物料信息。

当主数据复制到某事务时，客户-物料信息记录中的数据有优先权。
* 主数据优先级，销售订单中工厂数据输入项
    * 客户-物料信息主记录
    * 客户主记录
    * 物料主记录
* 创建客户-物料信息主记录
    * VD51

扩展：交货优先级，SAP的重排计划过程。

6. 主数据特有信息

* 主数据共享--通用分销渠道和通用产品组
    * 所有与主数据相关的数据
    * 所有与条件相关的数据
    * 只能创建或修改所参照的分销渠道的主数据
    * 配置时需要在主数据中配置参考，在条件中也需要配置参考

* 客户组
    * 定义：2位键值
    * 可以复制到VBAK、VBAP中
    * 对于报表、定价非常有用
    * 存储与KNVV
* 销售区域、销售办公室和销售组
    * 可以参照地理区域或只是作为一种编组方式
    * 会被复制到VBAK、VBAP中
    * 可以用于统计、定价
* 主数据表
    * 创建新的事务时，主数据会复制到事务数据中
    * 客户主文件表
        * KNA1：一般数据
        * KNB1：公司代码数据
        * KNVV：销售数据
        * KNKK：信贷管理数据
        * KNKA：信贷管理核心数据
        * KNVP：合作伙伴功能
    * 物料主文件表
        * MARA：通用数据
        * MBEW：物料估值
        * MARC：工厂数据
        * MARD：仓储地点/批次段
        * MVKE：销售数据

7. 合作伙伴确定过程

__合作伙伴确定过程__：
* 自动合作伙伴确定过程会发生在销售凭证、交货、开单凭证、销售活动和客户主记录中。
* 每个合作伙伴功能都会分配一个合作伙伴类型
* 配置路径：spro->sales and distribution -> basic functions -> partner Determination -> set up partner determination

![设置合作伙伴确定](/Reading_Notes/SAP销售与分销实施指南/image/图2.2_1.png '设置合作伙伴确定')

![设置客户主数据的合作伙伴确定](/Reading_Notes/SAP销售与分销实施指南/image/图2.2_2.png '设置客户主数据的合作伙伴确定')

关于"设置客户主数据的合作伙伴确定"中的字段解释：
* 第一个复选框“不可修改”，一旦位于客户主记录中，就不能改变。一般仅用于售达方。
* 第二个复选框“代理功能”，将该合作伙伴功能设为必选项，即客户主记录中必须确定或手工输入合作伙伴。
* 创建的每一个账户组，都需要分配合作伙伴确定过程，否则不起作用。

__合作伙伴功能__：
![分配合作伙伴功能](/Reading_Notes/SAP销售与分销实施指南/image/图2.2_3.png '分配合作伙伴功能')

* 当给SP合作伙伴功能分配07的不完整过程时，在创建销售订单时，系统使用这个不完整处理过程提示用户以默认值补全必输字段。
* 不完整过程分配，在不完整日志功能中也可以定义、分配。
* “更高层的功能”、“客户层次类型”将在9.5中记录。？？？？
* “唯一”表示系统只允许客户主记录中有一个这种功能的输入项。如只能有一个售达方。

__账户组-功能分配__：
* 如果用户想创建一个新的客户账户组，必须要分配给许可账户组以确定合作伙伴。
* 需要将定义好的客户账户组分配给需要的合作伙伴功能。

__合作伙伴功能转换__：
* 如AG被称作SP，因为可以根据语言进行转换。